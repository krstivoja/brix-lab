function initTest(){const e=document.querySelector(".brx-body");e?(waitForVueApp(e,(e=>{const{globalClasses:t,globalClassesCategories:n}=e.$_state,s=mapGlobalClasses(t,createCategoryMap(n));console.log("Global Categories:",s),populateClassesList(s),populateCategoryRadios(n);document.querySelectorAll('input[name="search_category"]').forEach((e=>{e.addEventListener("change",(()=>filterClasses(s)))}));const a=document.getElementById("search_term");a&&a.addEventListener("input",(()=>filterClasses(s)));const o=document.getElementById("replace_term");o&&o.addEventListener("input",(()=>filterClasses(s)));const l=document.getElementById("prefix");l&&l.addEventListener("input",(()=>filterClasses(s)));const c=document.getElementById("suffix");c&&c.addEventListener("input",(()=>filterClasses(s)))})),handleSwissKnifeLabDisplay()):console.error("brx-body element not found")}function waitForVueApp(e,t){const n=new MutationObserver((()=>{e.__vue_app__&&(n.disconnect(),t(e.__vue_app__.config.globalProperties))}));n.observe(e,{childList:!0})}function createCategoryMap(e){return e.reduce(((e,t)=>(e[t.id]=t.name,e)),{})}function mapGlobalClasses(e,t){return e.map((e=>({name:e.name,category:null!=e.category?t[e.category]:"Uncategorized"})))}function populateClassesList(e){const t=document.getElementById("classes-list");if(!t)return void console.error("#classes-list element not found");const n=document.createElement("ul"),s=document.createDocumentFragment();e.forEach((e=>{const t=document.createElement("li");t.innerHTML=`<span class="swk__class-name">${e.name}</span> <span class="swk__class-category">${e.category}</span>`,s.appendChild(t)})),n.appendChild(s),t.innerHTML="",t.appendChild(n)}function populateCategoryRadios(e){const t=document.querySelector(".swk__radio-group");t?e.forEach((e=>{const n=document.createElement("label");n.className="swk__radio-label";const s=document.createElement("input");s.type="radio",s.name="search_category",s.value=e.name,s.className="swk__radio",n.appendChild(s),n.appendChild(document.createTextNode(e.name)),t.appendChild(n)})):console.error(".swk__radio-group element not found")}function filterClasses(e){const t=document.getElementById("search_term").value.toLowerCase(),n=document.getElementById("replace_term").value,s=document.getElementById("prefix").value,a=document.getElementById("suffix").value,o=document.querySelector('input[name="search_category"]:checked').value,l=document.getElementById("classes-list");if(!l)return void console.error("#classes-list element not found");const c=l.querySelector("ul");if(!c)return;const r=e.filter((e=>{const n=document.createElement("div");n.innerHTML=`<span class="swk__class-name">${e.name}</span>`;const s=n.querySelector(".swk__class-name").textContent.toLowerCase();return("all"===o||e.category===o)&&s.includes(t)}));c.innerHTML="";const d=document.createDocumentFragment();r.forEach((e=>{let o=e.name;n&&(o=o.replace(new RegExp(t,"gi"),n)),o=`${s}${o}${a}`;const l=document.createElement("li");l.innerHTML=`<span class="swk__class-name">${o}</span> <span class="swk__class-category">${e.category}</span>`,d.appendChild(l)})),c.appendChild(d)}function handleSwissKnifeLabDisplay(){const e=document.getElementById("swiss-knife-lab"),t=document.querySelector("#bricks-toolbar > ul.group-wrapper.left");e&&t&&(e.style.display="block",t.appendChild(e))}document.addEventListener("DOMContentLoaded",initTest);