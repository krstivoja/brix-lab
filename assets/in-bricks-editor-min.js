function initTest(){const e=document.querySelector(".brx-body");e?(waitForVueApp(e,(e=>{const{globalClasses:t,globalClassesCategories:n}=e.$_state,a=mapGlobalClasses(t,createCategoryMap(n));console.log("Global Categories:",a),populateClassesList(a),populateCategoryRadios(n);document.querySelectorAll('input[name="search_category"]').forEach((e=>{e.addEventListener("change",(()=>filterClasses(a)))}));const s=document.getElementById("search_term");s&&s.addEventListener("input",(()=>filterClasses(a)));const o=document.getElementById("replace_term");o&&o.addEventListener("input",(()=>filterClasses(a)))})),handleSwissKnifeLabDisplay()):console.error("brx-body element not found")}function waitForVueApp(e,t){const n=new MutationObserver((()=>{e.__vue_app__&&(n.disconnect(),t(e.__vue_app__.config.globalProperties))}));n.observe(e,{childList:!0})}function createCategoryMap(e){return e.reduce(((e,t)=>(e[t.id]=t.name,e)),{})}function mapGlobalClasses(e,t){return e.map((e=>({name:e.name,category:null!=e.category?t[e.category]:"Uncategorized"})))}function populateClassesList(e){const t=document.getElementById("classes-list");if(!t)return void console.error("#classes-list element not found");const n=document.createElement("ul"),a=document.createDocumentFragment();e.forEach((e=>{const t=document.createElement("li");t.innerHTML=`<span class="swk__class-name">${e.name}</span> <span class="swk__class-category">${e.category}</span>`,a.appendChild(t)})),n.appendChild(a),t.innerHTML="",t.appendChild(n)}function populateCategoryRadios(e){const t=document.querySelector(".swk__radio-group");t?e.forEach((e=>{const n=document.createElement("label");n.className="swk__radio-label";const a=document.createElement("input");a.type="radio",a.name="search_category",a.value=e.name,a.className="swk__radio",n.appendChild(a),n.appendChild(document.createTextNode(e.name)),t.appendChild(n)})):console.error(".swk__radio-group element not found")}function filterClasses(e){const t=document.getElementById("search_term").value.toLowerCase(),n=document.getElementById("replace_term").value,a=document.querySelector('input[name="search_category"]:checked').value,s=document.getElementById("classes-list");if(!s)return void console.error("#classes-list element not found");const o=s.querySelector("ul");if(!o)return;const c=e.filter((e=>{const n=document.createElement("div");n.innerHTML=`<span class="swk__class-name">${e.name}</span>`;const s=n.querySelector(".swk__class-name").textContent.toLowerCase();return("all"===a||e.category===a)&&s.includes(t)}));o.innerHTML="";const l=document.createDocumentFragment();c.forEach((e=>{let a=e.name;n&&(a=a.replace(new RegExp(t,"gi"),n));const s=document.createElement("li");s.innerHTML=`<span class="swk__class-name">${a}</span> <span class="swk__class-category">${e.category}</span>`,l.appendChild(s)})),o.appendChild(l)}function handleSwissKnifeLabDisplay(){const e=document.getElementById("swiss-knife-lab"),t=document.querySelector("#bricks-toolbar > ul.group-wrapper.left");e&&t&&(e.style.display="block",t.appendChild(e))}document.addEventListener("DOMContentLoaded",initTest);